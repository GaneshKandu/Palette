function palette(e){html=getHTMLOfSelection(),UpdateHTML("<"+e+">"+html+"</"+e+">")}function palette(e,t){html=getHTMLOfSelection(),UpdateHTML("none"!=t?"<"+e+">"+html+"</"+t+">":"<"+e+"/>")}function offset(e){for(grid='	<div class="row cells'+e+'" >\n',i=1;i<=e;i++)grid+='		<div class="cell">'+i+"</div>\n";grid+="	</div>\n",UpdateHTML(grid)}function addrow(){var e=getgrid();grid='\n<div class="grid">\n',grid+='	<div class="row cells12" >\n';for(var t=0;t<e.length;t++)grid+='		<div class="cell colspan'+e[t]+' ">'+(t+1)+"</div>\n";grid+="	</div>\n",grid+="</div>\n",UpdateHTML(grid)}function palette_save(e){html=document.getElementById("cont").innerHTML,$.post("projects/save",{html:html,project:e},function(e,t){debug&&console.log(t)})}function palette_color(){html=getHTMLOfSelection(),colorvalue=document.getElementById("jscolor").value,UpdateHTML('<span style="color:#'+colorvalue+';">'+html+"</span>")}function palatte_add_image_url(){result=prompt("Enter Image URL: ",""),""===result?alert("Not Enterd any URL"):UpdateHTML('<img src="'+result+'" >')}function palatte_add_anchor(){linkurl=prompt("Enter Image URL: ",""),display=prompt("URL Display",""),""===display?alert("Not Enterd any Anchor"):UpdateHTML('<a href="'+linkurl+'" >'+display+"</a>")}function palatte_add_table(){if(Column=prompt("Enter No of Column",""),Rows=prompt("Enter No of Rows",""),""===Rows)return alert("Not Enterd any No of Rows"),!1;if(""===Column)return alert("Not Enterd any No of Column"),!1;for(table="<table>",k=1,table+="<tr>",j=0;j<Column;j++)table+="<th>",table+=k++,table+="</th>";for(table+="</tr>",i=1;i<Rows;i++){for(table+="<tr>",j=0;j<Column;j++)table+="<td>",table+=k++,table+="</td>";table+="</tr>"}table+="</table>",UpdateHTML(table)}function palette_youtube(){youtube_link=prompt("Enter youtube embedded link:",""),""===youtube_link?alert("Not Enterd embedded link"):UpdateHTML('<div class="video-container">'+youtube_link+"</div>")}function getSelectionText(){var e="";return window.getSelection&&(stext=window.getSelection(),oRange=stext.getRangeAt(0),oRect=oRange.getBoundingClientRect(),e=stext.toString()),e}function UpdateHTML(e){var t,e;if(window.getSelection&&window.getSelection().getRangeAt){t=window.getSelection().getRangeAt(0),t.deleteContents();var n=document.createElement("div");n.innerHTML=e;for(var o,l=document.createDocumentFragment();o=n.firstChild;)l.appendChild(o);t.insertNode(l)}else document.selection&&document.selection.createRange&&(t=document.selection.createRange(),t.pasteHTML(e))}function getHTMLOfSelection(){var e;if(document.selection&&document.selection.createRange)return e=document.selection.createRange(),e.htmlText;if(window.getSelection){var t=window.getSelection();if(t.rangeCount>0){e=t.getRangeAt(0);var n=e.cloneContents(),o=document.createElement("div");return o.appendChild(n),o.innerHTML}return""}return""}function _drag_init(e){selected=e,x_elem=x_pos-selected.offsetLeft,y_elem=y_pos-selected.offsetTop}function _move_elem(e){x_pos=document.all?window.event.clientX:e.pageX,y_pos=document.all?window.event.clientY:e.pageY,null!==selected&&(selected.style.left=x_pos-x_elem+"px",selected.style.top=y_pos-y_elem+"px")}function _destroy(){selected=null}function getgrid(){debug=!1;for(var e="",t=Array(),n=0,o=1;13>o;o++)for(var l=1;13>l;l++)e=$("#"+o+"_"+l+":checked").val(),void 0!=e&&(t[n++]=e);var d=Array();for(o=n=1,l=0,o=0;12>o;o++)t[o]==t[o+1]?n++:(d[l]=n,n=1,l++);return d}function popup(e){var t=$(document).height(),n=$(window).width(),o=t/3-$("#dialog-box").height(),l=n/2-$("#dialog-box").width()/2;$("#dialog-overlay").css({height:t,width:n}).show(),$("#dialog-box").css({top:o,left:l}).show(),$("#dialog-message").html(e)}function cons(){return cons="///////////////////////////////////////////////////\n",cons+="Palatte CMS is a PHP Based Content Management System.\n",cons+="Developed By : Ganesh Kandu\n",cons+="Contact Mail : kanduganesh@gmail.com\n",cons+="///////////////////////////////////////////////////\n",cons+="                     .:/++/:.                     \n",cons+="                ./yddyo+//oymNs.          .dy`    \n",cons+="             -omdo-          -hN/        :NMMN/   \n",cons+="          `+dd+`     `/os/`    oM/      oMMMMMMs  \n",cons+="        `oNy-       /Ns:/sN:    dN     yNsMMMMMMs \n",cons+="       oNs.        .Mo   `Ms    +M-   oM//MMMMMMM`\n",cons+="     -mh.          .Ny:/smy`    sM.   MM.oMMMMMMN`\n",cons+="    oN/    ./+/`    `+oo/`     :My    yMNNMMMMMm- \n",cons+="   ym.    /MMMMN.             /Ms      -oNmdmd:   \n",cons+="  sm`     hMMMMM-            +M/         m: oh    \n",cons+=" :M-      .dMMm+            -M+          N- /d    \n",cons+=" dy         ``              .Nho:        M+:ym    \n",cons+=".M:    `+yyo`                 ./sdy-     MMMMN    \n",cons+="/M`   `mMMMMh                     :dy    MMMMN    \n",cons+="/M`   :MMMMM+                      `m+   mMMMM    \n",cons+=".M:    :syo-                       `N+   dMMMM    \n",cons+=" sd`          `sdh+               :my    hMMMM    \n",cons+="  hh`        `mMMMMs            :hm/     sMMMM    \n",cons+="   om/        mMMMm-         -smy:       /MMMM    \n",cons+="    .yd+`      -:.       ./ydy/`         `MMMd    \n",cons+="      `/yhs+:.`  `.-:+shhs/.              dMMo    \n",cons+="          .:+osyyyyso/-                   /MN`    \n",cons+="                                           y-     \n",cons+="                                                  \n"}var debug=!1;console.info(cons());var selected=null,x_pos=0,y_pos=0,x_elem=0,y_elem=0;document.getElementById("tool-box").onmousedown=function(){return _drag_init(this),!1},document.onmousemove=_move_elem,document.onmouseup=_destroy,$(function(){var e,t,n=!1,o=["#ffffff","#ff5c33","#ff4d94","#6666ff","#00ffff","#ccffcc","#33ff88","#ff5c88","#ff4d88","#666688","#00ff88","#ccff88","#33ff33"];$("#our_table td").mousedown(function(){n=!0,e=$(this).attr("box"),t=e;var l=document.getElementById(e+"_"+t);return null!=l&&(l.checked=!0),$(this).css("background-color",o[e]),!1}).mouseover(function(){n&&(t=$(this).attr("box"),document.getElementById(e+"_"+t).checked=!0,$(this).css("background-color",o[e]))}),$(document).mouseup(function(){n=!1})}),$(document).ready(function(){$("a.btn-ok, #dialog-overlay, #dialog-box").click(function(){return $("#dialog-overlay, #dialog-box").hide(),!1}),$(window).resize(function(){$("#dialog-box").is(":hidden")||popup()})});